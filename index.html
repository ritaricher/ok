
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>交互式太阳系模拟</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        .planet-info {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .orbit {
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 50%;
        }
    </style>
</head>
<body class="bg-gray-900 text-white overflow-hidden">
    <!-- 导航栏 -->
    <nav class="flex justify-between items-center p-4 bg-gray-800/50 backdrop-blur-md">
        <h1 class="text-2xl font-bold bg-gradient-to-r from-blue-400 to-purple-500 bg-clip-text text-transparent">
            <i class="fas fa-globe-americas mr-2"></i>太阳系模拟器
        </h1>
        <div class="flex items-center space-x-4">
            <button id="resetView" class="px-4 py-2 bg-blue-600 rounded-lg hover:bg-blue-700 transition">
                <i class="fas fa-sync-alt mr-2"></i>重置视图
            </button>
            <div class="flex items-center space-x-2">
                <i class="fas fa-info-circle text-yellow-400"></i>
                <span>使用鼠标滚轮缩放，拖拽旋转视角</span>
            </div>
        </div>
    </nav>

    <!-- 主内容区 -->
    <div class="flex h-screen pt-16">
        <!-- 控制面板 -->
        <div class="w-80 bg-gray-800/30 backdrop-blur-md p-6 overflow-y-auto">
            <div class="space-y-6">
                <!-- 缩放控制 -->
                <div class="planet-info rounded-xl p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <i class="fas fa-search mr-2"></i>视图控制
                    </h3>
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <span>缩放级别</span>
                            <span id="zoomLevel" class="font-mono">100%</span>
                        </div>
                        <input type="range" id="zoomSlider" min="10" max="500" value="100" 
                               class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                        <div class="flex justify-between text-sm text-gray-300">
                            <span>宏观</span>
                            <span>微观</span>
                        </div>
                    </div>
                </div>

                <!-- 速度控制 -->
                <div class="planet-info rounded-xl p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <i class="fas fa-tachometer-alt mr-2"></i>模拟速度
                    </h3>
                    <input type="range" id="speedSlider" min="0" max="200" value="100" 
                           class="w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer">
                </div>

                <!-- 行星信息 -->
                <div class="planet-info rounded-xl p-4">
                    <h3 class="text-lg font-semibold mb-3 flex items-center">
                        <i class="fas fa-star mr-2"></i>行星信息
                    </h3>
                    <div id="planetDetails" class="space-y-2 text-sm">
                        <div class="text-center text-gray-300 py-8">
                            <i class="fas fa-mouse-pointer text-2xl mb-2"></i>
                            <p>点击行星查看详细信息</p>
                        </div>
                    </div>
                </div>

                <!-- 显示选项 -->
                <div class="planet-info rounded-xl p-4">
                    <h3 class="text-lg font-semibold mb-3">显示选项</h3>
                    <div class="space-y-2">
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showOrbits" checked class="rounded bg-gray-700">
                            <span>显示轨道</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showLabels" checked class="rounded bg-gray-700">
                            <span>显示标签</span>
                        </label>
                        <label class="flex items-center space-x-2 cursor-pointer">
                            <input type="checkbox" id="showAtmosphere" class="rounded bg-gray-700">
                            <span>显示大气层</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- 画布区域 -->
        <div class="flex-1 relative">
            <canvas id="solarSystem" class="absolute inset-0"></canvas>
            <div id="loading" class="absolute inset-0 flex items-center justify-center bg-gray-900/80 backdrop-blur-sm">
                <div class="text-center">
                    <div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"></div>
                    <p>正在加载太阳系模型...</p>
                </div>
            </div>
        </div>
    </div>

    <script src="solar-system.js"></script>
</body>
</html>
<code_end>

<code_start project_name=太阳系模拟 filename=solar-system.js title=太阳系核心逻辑 entrypoint=false runnable=false project_final_file=true>
class SolarSystem {
    constructor() {
        this.canvas = document.getElementById('solarSystem');
        this.ctx = this.canvas.getContext('2d');
        this.planets = [];
        this.camera = { x: 0, y: 0, scale: 1 };
        this.mouse = { x: 0, y: 0, down: false, lastX: 0, lastY: 0 };
        this.time = 0;
        this.speed = 1;
        this.selectedPlanet = null;
        
        this.init();
        this.setupEventListeners();
        this.createPlanets();
        this.animate();
    }

    init() {
        this.resize();
        window.addEventListener('resize', () => this.resize());
        document.getElementById('loading').style.display = 'none';
    }

    resize() {
        this.canvas.width = this.canvas.offsetWidth;
        this.canvas.height = this.canvas.offsetHeight;
        this.camera.x = this.canvas.width / 2;
        this.camera.y = this.canvas.height / 2;
    }

    createPlanets() {
        // 太阳系行星数据 (相对比例)
        this.planets = [
            {
                name: '太阳', radius: 30, color: '#FFD700', orbitRadius: 0,
                speed: 0, hasRings: false, moons: 0, description: '恒星，太阳系的中心'
            },
            {
                name: '水星', radius: 4, color: '#A9A9A9', orbitRadius: 80,
                speed: 4.1, hasRings: false, moons: 0, description: '最靠近太阳的行星'
            },
            {
                name: '金星', radius: 8, color: '#FFA500', orbitRadius: 120,
                speed: 1.6, hasRings: false, moons: 0, description: '最热的行星'
            },
            {
                name: '地球', radius: 8.5, color: '#1E90FF', orbitRadius: 160,
                speed: 1, hasRings: false, moons: 1, description: '我们的家园'
            },
            {
                name: '火星', radius: 6, color: '#FF4500', orbitRadius: 200,
                speed: 0.5, hasRings: false, moons: 2, description: '红色行星'
            },
            {
                name: '木星', radius: 20, color: '#FFA07A', orbitRadius: 280,
                speed: 0.08, hasRings: true, moons: 79, description: '最大的行星'
            },
            {
                name: '土星', radius: 18, color: '#F0E68C', orbitRadius: 360,
                speed: 0.03, hasRings: true, moons: 82, description: '拥有美丽光环'
            },
            {
                name: '天王星', radius: 12, color: '#87CEEB', orbitRadius: 420,
                speed: 0.01, hasRings: true, moons: 27, description: '侧向旋转的行星'
            },
            {
                name: '海王星', radius: 11, color: '#4169E1', orbitRadius: 480,
                speed: 0.006, hasRings: true, moons: 14, description: '冰巨行星'
            }
        ];
    }

    setupEventListeners() {
        // 鼠标事件
        this.canvas.addEventListener('mousedown', (e) => {
            this.mouse.down = true;
            this.mouse.lastX = e.clientX;
            this.mouse.lastY = e.clientY;
        });

        this.canvas.addEventListener('mousemove', (e) => {
            this.mouse.x = e.clientX;
            this.mouse.y = e.clientY;

            if (this.mouse.down) {
                this.camera.x += (e.clientX - this.mouse.lastX);
                this.camera.y += (e.clientY - this.mouse.lastY);
                this.mouse.lastX = e.clientX;
                this.mouse.lastY = e.clientY;
            }
        });

        this.canvas.addEventListener('mouseup', () => {
            this.mouse.down = false;
        });

        this.canvas.addEventListener('wheel', (e) => {
            e.preventDefault();
            const zoomFactor = e.deltaY > 0 ? 0.9 : 1.1;
            const oldScale = this.camera.scale;
            
            this.camera.scale *= zoomFactor;
            this.camera.scale = Math.max(0.1, Math.min(5, this.camera.scale));
            
            // 基于鼠标位置缩放
            const mouseX = e.clientX - this.canvas.getBoundingClientRect().left;
            const mouseY = e.clientY - this.canvas.getBoundingClientRect().top;
            
            this.camera.x = mouseX - (mouseX - this.camera.x) * (this.camera.scale / oldScale);
            this.camera.y = mouseY - (mouseY - this.camera.y) * (this.camera.scale / oldScale);
            
            document.getElementById('zoomLevel').textContent = 
                Math.round(this.camera.scale * 100) + '%';
        });

        this.canvas.addEventListener('click', (e) => {
            const rect = this.canvas.getBoundingClientRect();
            const x = (e.clientX - rect.left - this.camera.x) / this.camera.scale;
            const y = (e.clientY - rect.top - this.camera.y) / this.camera.scale;
            
            this.selectedPlanet = null;
            let minDist = Infinity;
            
            this.planets.forEach(planet => {
                if (planet.orbitRadius === 0) {
                    const dist = Math.sqrt(x * x + y * y);
                    if (dist < planet.radius && dist < minDist) {
                        this.selectedPlanet = planet;
                        minDist = dist;
                    }
                } else {
                    const angle = this.time * planet.speed * 0.001;
                    const planetX = Math.cos(angle) * planet.orbitRadius;
                    const planetY = Math.sin(angle) * planet.orbitRadius;
                    const dist = Math.sqrt((x - planetX) * (x - planetX) + (y - planetY) * (y - planetY));
                    
                    if (dist < planet.radius && dist < minDist) {
                        this.selectedPlanet = planet;
                        minDist = dist;
                    }
                }
            });
            
            this.updatePlanetInfo();
        });

        // 控制面板事件
        document.getElementById('zoomSlider').addEventListener('input', (e) => {
            this.camera.scale = e.target.value / 100;
            document.getElementById('zoomLevel').textContent = e.target.value + '%';
        });

        document.getElementById('speedSlider').addEventListener('input', (e) => {
            this.speed = e.target.value / 100;
        });

        document.getElementById('resetView').addEventListener('click', () => {
            this.camera.x = this.canvas.width / 2;
            this.camera.y = this.canvas.height / 2;
            this.camera.scale = 1;
            document.getElementById('zoomLevel').textContent = '100%';
            document.getElementById('zoomSlider').value = 100;
        });
    }

    updatePlanetInfo() {
        const detailsDiv = document.getElementById('planetDetails');
        
        if (!this.selectedPlanet) {
            detailsDiv.innerHTML = `
                <div class="text-center text-gray-300 py-8">
                    <i class="fas fa-mouse-pointer text-2xl mb-2"></i>
                    <p>点击行星查看详细信息</p>
                </div>
            `;
            return;
        }

        const planet = this.selectedPlanet;
        detailsDiv.innerHTML = `
            <div class="text-center mb-4">
                <div class="w-12 h-12 rounded-full mx-auto mb-2" 
                     style="background: ${planet.color}; box-shadow: 0 0 20px ${planet.color}"></div>
                <h4 class="text-xl font-bold">${planet.name}</h4>
            </div>
            <div class="space-y-2 text-sm">
                <div class="flex justify-between">
                    <span>直径:</span>
                    <span>${(planet.radius * 2).toFixed(1)} 单位</span>
                </div>
                <div class="flex justify-between">
                    <span>轨道半径:</span>
                    <span>${planet.orbitRadius || 0} 单位</span>
                </div>
                <div class="flex justify-between">
                    <span>公转速度:</span>
                    <span>${planet.speed.toFixed(2)}</span>
                </div>
                <div class="flex justify-between">
                    <span>卫星数量:</span>
                    <span>${planet.moons}</span>
                </div>
                <div class="flex justify-between">
                    <span>行星环:</span>
                    <span>${planet.hasRings ? '有' : '无'}</span>
                </div>
            </div>
            <div class="mt-3 p-2 bg-gray-700/50 rounded text-xs">
                ${planet.description}
            </div>
        `;
    }

    drawOrbits() {
        if (!document.getElementById('showOrbits').checked) return;
        
        this.ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        this.ctx.lineWidth = 1;
        
        this.planets.forEach(planet => {
            if (planet.orbitRadius > 0) {
                this.ctx.beginPath();
                this.ctx.arc(0, 0, planet.orbitRadius, 0, Math.PI * 2);
                this.ctx.stroke();
            }
        });
    }

    drawPlanets() {
        this.planets.forEach(planet => {
            const angle = this.time * planet.speed * 0.001;
            let x, y;
            
            if (planet.orbitRadius === 0) {
                x = 0;
                y = 0;
            } else {
                x = Math.cos(angle) * planet.orbitRadius;
                y = Math.sin(angle) * planet.orbitRadius;
            }
            
            // 绘制行星
            this.ctx.save();
            this.ctx.translate(x, y);
            
            // 行星发光效果
            const gradient = this.ctx.createRadialGradient(0, 0, 0, 0, 0, planet.radius * 1.5);
            gradient.addColorStop(0, planet.color);
            gradient.addColorStop(1, 'transparent');
            
            this.ctx.fillStyle = planet.color;
            this.ctx.beginPath();
            this.ctx.arc(0, 0, planet.radius, 0, Math.PI * 2);
            this.ctx.fill();
            
            // 太阳特殊效果
            if (planet.name === '太阳') {
                this.ctx.fillStyle = gradient;
                this.ctx.beginPath();
                this.ctx.arc(0, 0, planet.radius * 1.5, 0, Math.PI * 2);
                this.ctx.fill();
            }
            
            // 行星环
            if (planet.hasRings && document.getElementById('showAtmosphere').checked) {
                this.ctx.strokeStyle = planet.color + '80';
                this.ctx.lineWidth = 2;
                this.ctx.beginPath();
                this.ctx.ellipse(0, 0, planet.radius * 1.8, planet.radius * 0.6, 0, 0, Math.PI * 2);
                this.ctx.stroke();
            }
            
            // 行星标签
            if (document.getElementById('showLabels').checked) {
                this.ctx.fillStyle = 'white';
                this.ctx.font = '12px Arial';
                this.ctx.textAlign = 'center';
                this.ctx.fillText(planet.name, 0, -planet.radius - 10);
            }
            
            this.ctx.restore();
        });
    }

    draw() {
        // 清空画布
        this.ctx.fillStyle = '#0F172A';
        this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
        
        // 应用相机变换
        this.ctx.save();
        this.ctx.translate(this.camera.x, this.camera.y);
        this.ctx.scale(this.camera.scale, this.camera.scale);
        
        // 绘制轨道
        this.drawOrbits();
        
        // 绘制行星
        this.drawPlanets();
        
        this.ctx.restore();
        
        // 绘制选中效果
        if (this.selectedPlanet) {
            this.ctx.save();
            this.ctx.translate(this.camera.x, this.camera.y);
        this.ctx.scale(this.camera.scale, this.camera.scale);
            
            const planet = this.selectedPlanet;
            const angle = this.time * planet.speed * 0.001;
            let x, y;
            
            if (planet.orbitRadius === 0) {
                x = 0;
                y = 0;
            } else {
                x = Math.cos(angle) * planet.orbitRadius;
                y = Math.sin(angle) * planet.orbitRadius;
            }
            
            this.ctx.strokeStyle = '#00FF00';
            this.ctx.lineWidth = 2;
            this.ctx.beginPath();
            this.ctx.arc(x, y, planet.radius + 3, 0, Math.PI * 2);
            this.ctx.stroke();
            
            this.ctx.restore();
        }
    }

    animate() {
        this.time += 16 * this.speed;
        this.draw();
        requestAnimationFrame(() => this.animate());
    }
}

// 初始化太阳系
document.addEventListener('DOMContentLoaded', () => {
    new SolarSystem();
});
<code_end>

这个交互式太阳系模拟器具有以下特点：

1. **完整的太阳系模型** - 包含太阳和八大行星，按相对比例显示大小和轨道
2. **流畅的交互控制** - 支持鼠标拖拽旋转视角和滚轮缩放功能
3. **动态信息显示** - 点击行星可查看详细的天文数据
4. **可调节模拟参数** - 提供速度控制和多种显示选项
5. **现代化UI设计** - 采用渐变色彩、玻璃态效果和响应式布局
6. **实时动画效果** - 行星按照真实相对速度进行公转运动
7. **细节呈现** - 放大后可观察行星环、大气层等细节特征
8. **跨平台兼容** - 纯前端实现，可在各种现代浏览器中运行